!function(){"use strict";function e(e){return e.split(/[/?#]/)}function t(e,t){var n=t.replace(/\?/g,"\\?").replace(/\*/g,"([^/?#]+?)").replace(/\.\./,".*"),r=new RegExp("^"+n+"$"),i=e.match(r);if(i)return i.slice(1)}function n(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function r(e){h=n(f,1),T[A](z,h),T[A](C,h),k[A](K,s),e&&f(!0)}function i(){this.$=[],y(this),P.on("stop",this.s.bind(this)),P.on("emit",this.e.bind(this))}function o(e){return e.replace(/^\/|\/$/,"")}function a(e){return"string"==typeof e}function c(e){return(e||N.href).replace(b,"")}function u(e){return"#"===g[0]?(e||N.href||"").split(g)[1]||"":(N?c(e):e||"").replace(g,"")}function f(e){var t=0===I;if(!(S<=I)&&(I++,H.push(function(){var t=u();(e||t!==m)&&(P[E]("emit",t),m=t)}),t)){for(var n;n=H.shift();)n();I=0}}function s(e){if(!(1!==e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!==t.nodeName;)t=t.parentNode;!t||"A"!==t.nodeName||t[x]("download")||!t[x]("href")||t.target&&"_self"!==t.target||-1===t.href.indexOf(N.href.match(b)[0])||t.href!==N.href&&(t.href.split("#")[0]===N.href.split("#")[0]||"#"!==g[0]&&0!==c(t.href).indexOf(g)||"#"===g[0]&&t.href.split(g)[0]!==N.href.split(g)[0]||!l(u(t.href),t.title||k.title))||e.preventDefault()}}function l(e,t,n){return L?(e=g+o(e),t=t||k.title,n?L.replaceState(null,t,e):L.pushState(null,t,e),k.title=t,j=!1,f(),j):P[E]("emit",u(e))}function d(){d3.select(".backgroundContainer svg").attr("width",window.innerWidth).attr("height",window.innerHeight).select("g").attr("transform","translate("+window.innerWidth/2+","+(window.innerHeight-150)+")")}function p(e){M.init(),$("body").on("click",M.rotate.toggle),_(e).filter(function(e){return 0!==e.z}).orderBy("z").forEach(function(t,n){window.setTimeout(function(){$("<img style='z-index: "+(e.length-t.z)+"; width: "+t.w/2+"px; height: auto; left:"+t.x/2+"px; bottom:"+t.y/2+"px;' class='animated "+X+"' src='img/people/"+t.id+".png' alt=''>").appendTo(".peopleContainer")},200*n)}),$(".peopleContainer").on("animationend","img",function(e){$(e.target).removeClass(X)}),$(".peopleContainer").on("mouseover","img",function(e){$(e.target).addClass(X)}),q("/",function(){}),q("/*",function(t){void 0===_(e).find({code:t})&&q("/")}),q.start(!0)}var h,g,m,v,w,y=function(e){e=e||{};var t={},n=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(n,r){return"function"==typeof r&&(t[n]=t[n]||[]).push(r),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=t[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete t[n];else t={};return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,c=arguments,u=arguments.length-1,f=new Array(u);for(a=0;a<u;a++)f[a]=c[a+1];for(i=n.call(t[r]||[],0),a=0;o=i[a];++a)o.apply(e,f);return t["*"]&&"*"!=r&&e.trigger.apply(e,["*",r].concat(f)),e},enumerable:!1,writable:!1,configurable:!1}}),e},b=/^.+?\/\/+[^/]+/,A="addEventListener",x="hasAttribute",z="popstate",C="hashchange",E="trigger",S=3,T="undefined"!=typeof window&&window,k="undefined"!=typeof document&&document,L=T&&history,N=T&&(L.location||T.location),O=i.prototype,K=k&&k.ontouchstart?"touchstart":"click",P=y(),R=!1,j=!1,H=[],I=0;O.m=function(e,t,n){!a(e)||t&&!a(t)?t?this.r(e,t):this.r("@",e):l(e,t,n||!1)},O.s=function(){this.off("*"),this.$=[]},O.e=function(e){this.$.concat("@").some(function(t){var n=("@"===t?v:w)(o(e),o(t));if(void 0!==n)return this[E].apply(null,[t].concat(n)),j=!0},this)},O.r=function(e,t){"@"!==e&&(e="/"+o(e),this.$.push(e)),this.on(e,t)};var W=new i,q=W.m.bind(W);q.create=function(){var e=new i,t=e.m.bind(e);return t.stop=e.s.bind(e),t},q.base=function(e){g=e||"#",m=u()},q.exec=function(){f(!0)},q.parser=function(n,r){n||r||(v=e,w=t),n&&(v=n),r&&(w=r)},q.query=function(){var e={};return(N.href||m).replace(/[?&](.+?)=([^&]*)/g,function(t,n,r){e[n]=r}),e},q.stop=function(){R&&(T&&(T.removeEventListener(z,h),T.removeEventListener(C,h),k.removeEventListener(K,s)),P[E]("stop"),R=!1)},q.start=function(e){R||(T&&("interactive"===document.readyState||"complete"===document.readyState?r(e):document.onreadystatechange=function(){"interactive"===document.readyState&&setTimeout(function(){r(e)},1)}),R=!0)},q.base(),q.parser();var B,D,J=d3.arc().innerRadius(50).outerRadius(2e3),M={init:function(e){e=e||40,(B=d3.selectAll(".backgroundContainer").append("svg").append("g").append("g").classed("rotate",!0)).selectAll("path").data(new Array(e)).enter().append("path").attr("d",function(t,n,r){var i=2*Math.PI/e;return J({startAngle:n*i,endAngle:n*i+i/2})}),d(),D.start()},resize:d,rotate:D={start:function(){B.classed("stop",!1)},stop:function(){B.classed("stop",!0)},toggle:function(){B.classed("stop",!B.classed("stop"))}}},X="flipInX";$(function(){$.getJSON("data/data.json").then(p)}),$(window).on("resize",function(){M.resize()})}();
