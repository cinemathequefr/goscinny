!function(){"use strict";function t(t){return t.split(/[/?#]/)}function e(t,e){var n=e.replace(/\?/g,"\\?").replace(/\*/g,"([^/?#]+?)").replace(/\.\./,".*"),r=new RegExp("^"+n+"$"),i=t.match(r);if(i)return i.slice(1)}function n(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function r(t){h=n(f,1),O[A](E,h),O[A](x,h),k[A](R,s),t&&f(!0)}function i(){this.$=[],b(this),T.on("stop",this.s.bind(this)),T.on("emit",this.e.bind(this))}function o(t){return t.replace(/^\/|\/$/,"")}function a(t){return"string"==typeof t}function c(t){return(t||K.href).replace(y,"")}function u(t){return"#"===g[0]?(t||K.href||"").split(g)[1]||"":(K?c(t):t||"").replace(g,"")}function f(t){var e=0===q;if(!(N<=q)&&(q++,W.push(function(){var e=u();(t||e!==v)&&(T[L]("emit",e),v=e)}),e)){for(var n;n=W.shift();)n();q=0}}function s(t){if(!(1!==t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!==e.nodeName;)e=e.parentNode;!e||"A"!==e.nodeName||e[S]("download")||!e[S]("href")||e.target&&"_self"!==e.target||-1===e.href.indexOf(K.href.match(y)[0])||e.href!==K.href&&(e.href.split("#")[0]===K.href.split("#")[0]||"#"!==g[0]&&0!==c(e.href).indexOf(g)||"#"===g[0]&&e.href.split(g)[0]!==K.href.split(g)[0]||!l(u(e.href),e.title||k.title))||t.preventDefault()}}function l(t,e,n){return z?(t=g+o(t),e=e||k.title,n?z.replaceState(null,e,t):z.pushState(null,e,t),k.title=e,H=!1,f(),H):T[L]("emit",u(t))}function d(){d3.select("svg").attr("width",window.innerWidth).attr("height",window.innerHeight).select("g").attr("transform","translate("+window.innerWidth/2+","+.667*window.innerHeight+")")}function p(t){B.init(),$("body").on("click",B.rotate.toggle),D("/",function(){}),D("/*",function(e){void 0===_(t).find({code:e})&&D("/")}),D.start(!0)}var h,g,v,m,w,b=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,c=arguments,u=arguments.length-1,f=new Array(u);for(a=0;a<u;a++)f[a]=c[a+1];for(i=n.call(e[r]||[],0),a=0;o=i[a];++a)o.apply(t,f);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(f)),t},enumerable:!1,writable:!1,configurable:!1}}),t},y=/^.+?\/\/+[^/]+/,A="addEventListener",S="hasAttribute",E="popstate",x="hashchange",L="trigger",N=3,O="undefined"!=typeof window&&window,k="undefined"!=typeof document&&document,z=O&&history,K=O&&(z.location||O.location),P=i.prototype,R=k&&k.ontouchstart?"touchstart":"click",T=b(),j=!1,H=!1,W=[],q=0;P.m=function(t,e,n){!a(t)||e&&!a(e)?e?this.r(t,e):this.r("@",t):l(t,e,n||!1)},P.s=function(){this.off("*"),this.$=[]},P.e=function(t){this.$.concat("@").some(function(e){var n=("@"===e?m:w)(o(t),o(e));if(void 0!==n)return this[L].apply(null,[e].concat(n)),H=!0},this)},P.r=function(t,e){"@"!==t&&(t="/"+o(t),this.$.push(t)),this.on(t,e)};var C=new i,D=C.m.bind(C);D.create=function(){var t=new i,e=t.m.bind(t);return e.stop=t.s.bind(t),e},D.base=function(t){g=t||"#",v=u()},D.exec=function(){f(!0)},D.parser=function(n,r){n||r||(m=t,w=e),n&&(m=n),r&&(w=r)},D.query=function(){var t={};return(K.href||v).replace(/[?&](.+?)=([^&]*)/g,function(e,n,r){t[n]=r}),t},D.stop=function(){j&&(O&&(O.removeEventListener(E,h),O.removeEventListener(x,h),k.removeEventListener(R,s)),T[L]("stop"),j=!1)},D.start=function(t){j||(O&&("interactive"===document.readyState||"complete"===document.readyState?r(t):document.onreadystatechange=function(){"interactive"===document.readyState&&setTimeout(function(){r(t)},1)}),j=!0)},D.base(),D.parser();var I,J,M=d3.arc().innerRadius(50).outerRadius(2e3),B={init:function(t){t=t||40,(I=d3.selectAll(".backgroundContainer").append("svg").append("g").append("g").classed("rotate",!0)).selectAll("path").data(new Array(t)).enter().append("path").attr("d",function(e,n,r){var i=2*Math.PI/t;return M({startAngle:n*i,endAngle:n*i+i/2})}),d(),J.start()},resize:d,rotate:J={start:function(){I.classed("stop",!1)},stop:function(){I.classed("stop",!0)},toggle:function(){I.classed("stop",!I.classed("stop"))}}};$(function(){$.getJSON("data/data.json").then(p)}),$(window).on("resize",function(){B.resize()})}();
